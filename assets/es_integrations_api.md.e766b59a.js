import{_ as o}from"./chunks/web-create-api-token.013f57e0.js";import{_ as t,c as r,a as e,b as n,t as i,d as l,o as s}from"./app.15727171.js";const A=JSON.parse('{"title":"API","description":"","frontmatter":{"title":"API","editLink":true},"headers":[{"level":2,"title":"Obtener un token de API","slug":"obtener-un-token-de-api","link":"#obtener-un-token-de-api","children":[]},{"level":2,"title":"La API de GraphQL","slug":"la-api-de-graphql","link":"#la-api-de-graphql","children":[{"level":3,"title":"Métodos comúnmente utilizados","slug":"metodos-comunmente-utilizados","link":"#metodos-comunmente-utilizados","children":[]},{"level":3,"title":"Guardar una URL con la API","slug":"guardar-una-url-con-la-api","link":"#guardar-una-url-con-la-api","children":[]}]},{"level":2,"title":"Aplicaciones de muestra:","slug":"aplicaciones-de-muestra","link":"#aplicaciones-de-muestra","children":[]},{"level":2,"title":"Guardar solicitudes desde el navegador","slug":"guardar-solicitudes-desde-el-navegador","link":"#guardar-solicitudes-desde-el-navegador","children":[]}],"relativePath":"es/integrations/api.md","lastUpdated":1683795945000}'),d={name:"es/integrations/api.md"},u={id:"frontmatter-title",tabindex:"-1"},p=e("a",{class:"header-anchor",href:"#frontmatter-title","aria-hidden":"true"},"#",-1),c=l('<nav class="table-of-contents"><ul><li><a href="#obtener-un-token-de-api">Obtener un token de API</a></li><li><a href="#la-api-de-graphql">La API de GraphQL</a><ul><li><a href="#metodos-comunmente-utilizados">Métodos comúnmente utilizados</a></li><li><a href="#guardar-una-url-con-la-api">Guardar una URL con la API</a></li></ul></li><li><a href="#aplicaciones-de-muestra">Aplicaciones de muestra:</a></li><li><a href="#guardar-solicitudes-desde-el-navegador">Guardar solicitudes desde el navegador</a></li></ul></nav><p>Omnivore ofrece una API de graphql que se puede autenticar con un token de API, esto generalmente se usa cuando se conecta a Omnivore desde su escritorio, aplicación móvil u ordenador.</p><p>La interfaz de Omnivore también expone un &quot;punto final&quot; (endpoint) de interfaz en <a href="https://omnivore.app/api/save" target="_blank" rel="noreferrer">https://omnivore.app/api/save</a> para guardar en tu biblioteca en el navegador. Este endpoint utilizará la cookie de tu navegador para autenticarte. Esto se usa normalmente para integrarse con otros lectores, como <a href="https://www.inoreader.com/" target="_blank" rel="noreferrer">Inoreader</a>.</p><h2 id="obtener-un-token-de-api" tabindex="-1">Obtener un token de API <a class="header-anchor" href="#obtener-un-token-de-api" aria-hidden="true">#</a></h2><ul><li>Ve a <a href="https://omnivore.app/settings/api" target="_blank" rel="noreferrer">/settings/api</a></li><li>Haz clic en <code>Create</code></li><li>Elige un nombre descriptivo para tu clave API.</li><li>Elige un tiempo de caducidad. Cuando una clave API caduca, dejará de funcionar.</li><li>Copia la clave API a tu portapapeles.</li></ul><p><img src="'+o+`" alt="Creación de un token de API"></p><div class="tip custom-block"><p class="custom-block-title">Consejo: Una vez hayas creado tu clave API, no podrás volver a acceder a su valor.</p></div><p>Tu clave API debe agregarse a las solicitudes en el encabezado <code>Authorization</code>. Aquí puedes ver una solicitud de GQL de muestra que usa un token API con el valor <code>FFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF</code>:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">curl -X POST -d &#39;{ &quot;query&quot;: &quot;query Viewer { me { id name } }&quot; }&#39; -H &#39;content-type: application/json&#39; -H &#39;authorization: FFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF&#39; https://api-prod.omnivore.app/api/graphql</span></span>
<span class="line"><span style="color:#A6ACCD;">{&quot;data&quot;:{&quot;me&quot;:{&quot;id&quot;:&quot;&lt;your user id&gt;&quot;,&quot;name&quot;:&quot;&lt;your full name&gt;&quot;}}}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="la-api-de-graphql" tabindex="-1">La API de GraphQL <a class="header-anchor" href="#la-api-de-graphql" aria-hidden="true">#</a></h2><p>La documentación de referencia no se ha creado para la API de GraphQL, pero se puede acceder al esquema <a href="https://github.com/omnivore-app/omnivore/blob/main/packages/api/src/schema.ts" target="_blank" rel="noreferrer">en GitHub</a>.</p><h3 id="metodos-comunmente-utilizados" tabindex="-1">Métodos comúnmente utilizados <a class="header-anchor" href="#metodos-comunmente-utilizados" aria-hidden="true">#</a></h3><ul><li><code>search</code>: Devuelve un conjunto de páginas basado en un término de búsqueda. Utilice una cadena vacía para obtener todas las páginas.</li><li><code>article</code>: Obtenga un solo artículo y su contenido</li><li><code>saveUrl</code>: Guardar una URL</li><li><code>savePage</code>: Guardar una página con contenido HTML proporcionado</li></ul><h3 id="guardar-una-url-con-la-api" tabindex="-1">Guardar una URL con la API <a class="header-anchor" href="#guardar-una-url-con-la-api" aria-hidden="true">#</a></h3><p>Para guardar una URL, puedes usar el endpoint de GQL <code>saveUrl</code>. Ten en cuenta que hay tres parámetros obligatorios:</p><ul><li>url: la URL que te gustaría guardar, por ejemplo <code>https://blog.omnivore.app/p/contributing-to-omnivore</code></li><li>clientRequestId: una identificación única para esta solicitud. Esto se puede generar usando una biblioteca uuid y se usa para buscar solicitudes en llamadas API posteriores. Por ejemplo: <code>85282635-4DF4-4BFC-A3D4-B3A004E57067</code></li><li>source: establece esto en <code>api</code>, esto nos ayuda a diferenciar la forma en que se guarda una URL.</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">curl -X POST -d &#39;{ &quot;query&quot;: &quot;mutation SaveUrl($input: SaveUrlInput!) { saveUrl(input: $input) { ... on SaveSuccess { url clientRequestId } ... on SaveError { errorCodes message } } }&quot;, &quot;variables&quot;: { &quot;input&quot;: { &quot;clientRequestId&quot;: &quot;85282635-4DF4-4BFC-A3D4-B3A004E57067&quot;, &quot;source&quot;: &quot;api&quot;, &quot;url&quot;: &quot;https://blog.omnivore.app/p/contributing-to-omnivore&quot; }} }&#39; -H &#39;content-type: application/json&#39; -H &#39;authorization: &lt;your api key&gt;&#39; https://api-prod.omnivore.app/api/graphql</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="aplicaciones-de-muestra" tabindex="-1">Aplicaciones de muestra: <a class="header-anchor" href="#aplicaciones-de-muestra" aria-hidden="true">#</a></h2><ul><li><a href="https://github.com/davidohlin/instapaper-to-omnivore-import" target="_blank" rel="noreferrer">omnivore-import</a>: Una herramienta typescript para importar una biblioteca previamente exportada de Instapaper (escrita en TypeScript)</li><li><a href="https://github.com/laurentkempe/omnivore-api-demo-csharp" target="_blank" rel="noreferrer">omnivore-api-demo-csharp</a>: Descargar todos tus artículos y guárdalos en formato Markdown (escrito en C#)</li></ul><h2 id="guardar-solicitudes-desde-el-navegador" tabindex="-1">Guardar solicitudes desde el navegador <a class="header-anchor" href="#guardar-solicitudes-desde-el-navegador" aria-hidden="true">#</a></h2><p>Las solicitudes se pueden hacer al endpoint del frontend <a href="https://omnivore.app/api/save" target="_blank" rel="noreferrer">https://omnivore.app/api/save</a> en el navegador.</p><p>Al usar este endpoint, la cookie de tu navegador se usará para autenticar y autorizar la solicitud. Las etiquetas se pueden agregar usando el parámetro de consulta <code>labels</code>: <code>https://omnivore.app/api/save?url=&lt;the url&gt;&amp;labels=&lt;Label1&gt;&amp;labels=&lt;Label2&gt;&amp;labels=&lt;Label3&gt;</code> por ejemplo: <a href="https://omnivore.app/api/save?url=https://blog.omnivore.app/p/whats-new-in-omnivore&amp;labels=Reading1&amp;labels=Software" target="_blank" rel="noreferrer">https://omnivore.app/api/save?url=https://blog.omnivore.app/p/whats-new-in-omnivore&amp;labels=Reading1&amp;labels=Software</a></p>`,22);function m(a,h,g,v,b,F){return s(),r("div",null,[e("h1",u,[n(i(a.$frontmatter.title)+" ",1),p]),c])}const _=t(d,[["render",m]]);export{A as __pageData,_ as default};
